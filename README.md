# ASCII art
A programs allow one to automatically convert a video to text characters.

### Author
Wenye Deng, Wenhao Gao, Zichen Liu

### Table of contents

   - [Prerequisite](#Prerequisite)
   - [Getting Started](#Getting-Started)
   - [HOW TO USE](#HOW-TO-USE)
   - [Demo Video](#Demo-Video)
       - [bad apple char video](#bad-apple-char-video)
       - [dance char video](#dance-char-video)

## Prerequisite
1. System: Linux or Windows (Mac's version on its way...)
2. Python 3.7
3. Package need to install: ffmpeg, Avbin, pyglet, pillows, opencv-python, numpy
   * Avbin download from website: [Avbin Downloads](https://avbin.github.io/AVbin/Download.html)
   * The others can be installed via pip

## Getting Started
There are four .py files: CharVideo.py, img2chars.py, GUI_core.py and video_player_core.py. Details about this file will be explained below. Also, test samples are included in the directory video_data.

### Programs
1. CharVideo.py

This is the main function for video to convert to char video

  | **Function** | **Discription** | **Input** | **Outputs** |
  | ------------ | --------------- | --------- | ----------- |
  | MAIN | convert the video to char video | filename | final_name, size |
  | combine_audio_and_video | combine the video and audio | filename | final_name |

2. img2chars.py

This file contains functions that transfer a image to a char representation.

  | **Function** | **Discription** | **Input** | **Outputs** |
  | ------------ | --------------- | --------- | ----------- |
  | get_char | transfer a gray degree to a char | gray, pixels(optional) | pixels\[index] |
  | img2chars | transfer one frame of video into a char represented frame | frame, chars_width(optional), put_original(optional), loc(optional), original_size(optional), test(optional) | img_chars or np.array(img_chars) |

3. GUI_core.py

  | **Function** | **Discription** | **Input** | **Outputs** |
  | ------------ | --------------- | --------- | ----------- |
  | draw_rect | create a rectangle used for button | x, y, width, height | None |
  | Main | cteate the video player | filename | None |
  | GUI | main function for the GUI interface | None | None |

  | **Class** | **Discription** | **Methods** |
  | --------- | --------------- | ----------- |
  | Control | capture the mouse event | hit_test(self, x, y), capture_events(self), release_events(self) |
  | Button | create the button and capture the mouse event | draw(self), on_mouse_press(self, x, y, button, modifiers), on_mouse_drag(self, x, y, dx, dy, buttons, modifiers), on_mouse_release(self, x, y, button, modifiers) |
  | TextButton | the position of the text in the button | draw_label(self), set_text(self, text) |
  | Slider | control of slide and capture of the click of the mouse | draw(self), coordinate_to_value(self, x), on_mouse_press(self, x, y, button, modifiers), on_mouse_drag(self, x, y, dx, dy, buttons, modifiers), on_mouse_release(self, x, y, button, modifiers) |
  | PlayerWindow | create window for the video player | on_eos(self), gui_update_source(self), gui_update_state(self), get_video_size(self), set_default_video_size(self), on_resize(self, width, height), on_mouse_press(self, x, y, button, modifiers), on_key_press(self, symbol, modifiers), on_close(self), on_play_pause(self), on_draw(self) |

4. video_player_core.py

This file includes the code to build a video player. And all of the functions and classes have been included in the GUI_core.py.

## HOW TO USE
On any command line or bash shell prompt, type

```python CUI_core.py```

Then a GUI window will pop up. Click the "Choose video file" button and choose any video file you want to convert to text-based video.
After processing, the video player will play the new generated video automatically.
Enjoy it!

## Demo Video
There are two output demo generated by this programs.

### bad apple char video
[![Watch the video](https://github.com/IRONMANMARK/Char_Video/blob/master/video_data/cover.png)](https://www.youtube.com/embed/6d-pd-cWYjU)
### dance char video
[![Watch the video](https://github.com/IRONMANMARK/Char_Video/blob/master/video_data/cover2.png)](https://www.youtube.com/embed/q5wXBjMKT6s)



